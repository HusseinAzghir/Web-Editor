!function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror"),require("../yaml/yaml")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../yaml/yaml"],t):t(CodeMirror)}(function(o){o.defineMode("yaml-frontmatter",function(t,e){var r=o.getMode(t,"yaml"),i=o.getMode(t,e&&e.base||"gfm");function a(t){return 2==t.state?i:r}return{startState:function(){return{state:0,inner:o.startState(r)}},copyState:function(t){return{state:t.state,inner:o.copyState(a(t),t.inner)}},token:function(t,e){if(0==e.state)return t.match("---",!1)?(e.state=1,r.token(t,e.inner)):(e.state=2,e.inner=o.startState(i),i.token(t,e.inner));if(1!=e.state)return i.token(t,e.inner);var n=t.sol()&&t.match(/(---|\.\.\.)/,!1),t=r.token(t,e.inner);return n&&(e.state=2,e.inner=o.startState(i)),t},innerMode:function(t){return{mode:a(t),state:t.inner}},indent:function(t,e,n){var r=a(t);return r.indent?r.indent(t.inner,e,n):o.Pass},blankLine:function(t){var e=a(t);if(e.blankLine)return e.blankLine(t.inner)}}})});